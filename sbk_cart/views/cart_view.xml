<odoo>
    <data>
        <template id="product_quick_view_quantity_inherit" inherit_id="clarico_quick_view.product_quick_view_quantity">
            <xpath expr="//div[hasclass('quick_product_quantity')]" position="replace">
                <div class="quick_product_quantity" t-if="request.website.sale_get_order(force_create=True).web_so==False">
                    <div class="css_quantity input-group oe_website_spinner"
                        contenteditable="false">
                        <a t-attf-href="#" class="mb8 input-group-addon js_add_cart_json">
                            <i class="fa fa-minus"></i>
                        </a>
                        <input type="text" class="form-control" data-min="1" name="add_qty"
                            value="1" />
                        <a t-attf-href="#"
                            class="mb8 input-group-addon float_left js_add_cart_json">
                            <i class="fa fa-plus"></i>
                        </a>
                    </div>
                </div>
            </xpath>
        </template>
        <template id="clarico_quick_view_fetch-record_inherit" inherit_id="clarico_quick_view.clarico_quick_view_fetch-record">
            <xpath expr="//div[hasclass('qv_ad2cart')]" position="replace">
                <div class="qv_ad2cart" t-if="request.website.sale_get_order(force_create=True).web_so==False">
					<input name="product_id" t-att-value="product.product_variant_id.id"
					type="hidden" />
					<t t-if="len(product.product_variant_ids) == 1">
                        <a class="btn btn-default a-submit" id="add_to_cart">
                          Add to Cart
						</a>
                    </t>
					<t t-if="len(product.product_variant_ids) &gt; 1">
                       <a class="btn btn-default a-submit" id="add_to_cart">
						 Add to Cart
                       </a>
					</t>
				</div>
            </xpath>
        </template>
        <template id="clarico_clear_cart_inherit" name="Clear Cart" inherit_id="clarico_cart.clarico_clear_cart"> 
          <xpath expr="//a[hasclass('clear_shopping_cart')]" position="replace"> 
            <a class="clear_shopping_cart" t-if="website_sale_order and website_sale_order.website_order_line and website_sale_order.web_so==False">( Clear cart )</a> 
          </xpath> 
        </template>	
        	<template id="clarico_cart_lin" inherit_id="website_sale.cart_lines">
                    <xpath expr="//table[@id='cart_products']/tbody" position="replace">
				<tbody>
                <t t-foreach="website_sale_order.website_order_line" t-as="line">
                    <tr>
                        <td colspan="2" t-if="not line.product_id.product_tmpl_id" class='td-img'></td>
                        <td align="center" t-if="line.product_id.product_tmpl_id" class='td-img'>
                            <span t-field="line.product_id.image_small" t-options="{'widget': 'image', 'class': 'img-rounded'}" />
                        </td>
                        <td t-if="line.product_id.product_tmpl_id" class="td-product_name">
			                 <div class="cart_product_name">
			                     <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
			                         <strong t-esc="line.product_id.with_context(display_default_code=False).name" />
			                     </a>
			                 </div>
			                 <div class="cart_product_attr_main">
								<t t-if="len(line.product_id.attribute_value_ids)">
									<div class="para_attrib_class_name cart_view_para_attrib_class_name">
										<!-- <div class="attr-bracket">(</div> -->
										<t t-set="total_attribute" t-value="0"></t>
										<t t-foreach="line.product_id.attribute_value_ids"
											t-as="val_vart">
											<label class="cart_view_para_class_attrib_name_value product-attr-p">
												<t t-if="total_attribute">,</t>
												<span class="cart_view_span_class_atrib_value_cart product-attr-span">
													<t t-esc="val_vart.attribute_id.name"></t>
												</span>
												:
												<span class="cart_view_span_class_atrib_value_val_cart product-attr-span">
													<t t-esc="val_vart.name"></t>
												</span>
												<t t-set="total_attribute" t-value="total_attribute + 1"></t>
											</label>
										</t>
									<!-- 	<div class="attr-bracket">)</div> -->
									</div>
								</t>
							</div>
							<a t-if="website_sale_order.web_so==False" href='#' class='js_delete_product no-decoration remove-cart-product-icon'>
								Remove item
							</a>
            			</td>

                        <td class="text-center td-price" name="price">
                            <t t-if="(compute_currency(line.product_id.lst_price) - line.price_reduce ) &gt; 0.01  and website.get_current_pricelist().discount_policy=='without_discount'">
                                <del t-attf-class="#{'text-danger mr8'}" style="white-space: nowrap;" t-esc="compute_currency(line.product_id.website_public_price)" t-options="{'widget': 'monetary', 'display_currency': website.get_current_pricelist().currency_id, 'from_currency': website.currency_id}" />
                            </t>
                            <span t-field="line.price_reduce_taxexcl" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="sale.group_show_price_subtotal" />
                            <span t-field="line.price_reduce_taxinc" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" groups="sale.group_show_price_total" />
                        </td>
                        <td class="text-center td-qty">
                            <div class="css_quantity input-group oe_website_spinner">
								<t t-if="website_sale_order.web_so==False">
                                <a t-attf-href="#" class="mb8 input-group-addon js_add_cart_json hidden-xs">
                                    <i class="fa fa-minus"></i>

                                </a>
                                <input type="text" class="js_quantity form-control quantity" t-att-data-line-id="line.id" t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty" />
                                <a t-attf-href="#" class="mb8 input-group-addon float_left js_add_cart_json hidden-xs">
                                    <i class="fa fa-plus"></i>
                                </a>
								</t>
								<t t-if="website_sale_order.web_so==True">
									<a  class="mb8 input-group-addon  hidden-xs">
                                    <i class="fa fa-minus"></i>

                                </a>
                                <input readonly="readonly"  class="js_quantity form-control quantity" t-att-data-line-id="line.id" t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty" />


                                <a  class="mb8 input-group-addon float_left  hidden-xs">
                                    <i class="fa fa-plus"></i>
                                </a>
								</t>
                            </div>
                        </td>
                        <td class="table-content-td text-center" id="td-price" name="totalprice">
			              	<span t-field="line.price_subtotal" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'from_currency': website_sale_order.pricelist_id.currency_id, 'display_currency': website.currency_id}" />
			            </td>
                    </tr>
                </t>
            </tbody>
		</xpath>
            </template>
		<template id="website_sale_options.modal" name="Optional Products">
<div id="modal_optional_products" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
          <t t-if="order.web_so==True">
              <span>Can not  Add To Cart you have already a confirm order in your cart.</span>
          </t>


      </div>
        <t t-if="order.web_so==False">
            <h4 class="modal-title" id="myModalLabel">Add to Cart</h4>
      <div class="modal-body">
        <table class="table table-striped table-condensed">
          <thead>
              <tr>
                  <th class="td-img">Product</th>
                  <th></th>
                  <th class="text-center td-qty">Quantity</th>
                  <th class="text-center td-price">Price</th>
              </tr>
          </thead>
          <tbody>
              <tr id="product_confirmation" class="js_product">
                <td class='td-img'>
                  <span t-field="product.image_medium" t-options='{"widget": "image" }'/>
                </td>
                <td class='td-product_name'>
                  <strong t-field="product.display_name"/>
                  <div class="text-muted small">
                    <div t-field="product.description_sale"/>
                    <div class="js_attributes"/>
                  </div>
                </td>
                <td class="text-center td-qty">
                   <span>A</span>
                  <div class="css_quantity input-group oe_website_spinner">
                      <a t-attf-href="#" class="mb8 input-group-addon js_add_cart_json hidden-xs">

                          <i class="fa fa-minus"></i>
                      </a>
                      <input type="text" class="js_quantity form-control quantity" data-min="1" name="add_qty" value="1"/>
                      <a t-attf-href="#" class="mb8 input-group-addon float_left js_add_cart_json hidden-xs">
                          <i class="fa fa-plus"></i>
                      </a>
                  </div>
                </td>
                <td class="text-center td-price" name="price">
                  <ul class="hidden js_add_cart_variants" t-att-data-attribute_value_ids="json.dumps(main_product_attr_ids)"></ul>
                  <div class="hidden oe_unchanged_value_ids" t-att-data-unchanged_value_ids="main_product_attr_ids[0][1]" ></div>
                  <t t-if="website.get_current_pricelist().discount_policy=='without_discount'">
                    <span t-attf-class="text-danger oe_default_price oe_striked_price {{ (compute_currency(product.lst_price) - product.website_price) &lt; 0.01 and 'hidden' }}"
                      t-field="product.lst_price"
                      t-options='{
                        "widget": "monetary",
                        "from_currency": product.currency_id,
                        "display_currency": website.currency_id
                    }'/>
                  </t>
                  <span class="oe_price product_id" style="white-space: nowrap;"
                    t-att-data-product-id="product.id"
                    t-esc="product.website_price / quantity"
                    t-options='{
                       "widget": "monetary",
                       "display_currency": website.currency_id
                   }'/>
                </td>
              </tr>

              <tr t-if="product.optional_product_ids"><td colspan="2"><h4>Select Your Options:</h4></td></tr>
              <tr class="js_product" t-foreach="product.optional_product_ids" t-as="product">
                <td class="td-img">
                  <input type="hidden" class="product_id" t-attf-name="optional-product-#{product_index}" t-att-value="product.product_variant_id.id if len(product.product_variant_ids) == 1 else '0'"/>
                  <span t-field="product.image_small" t-options='{"widget": "image"}'/>
                </td>
                <td class='td-product_name' colspan="2">
                  <div class="pull-left">
                    <strong class="media-heading" t-field="product.name"/>
                    <div class="text-muted small" t-field="product.description_sale"/>
                  </div>
                    <div class="pull-right">
                    <t t-call="website_sale.variants"/>
                  </div>
                </td>

                <td class="td-price">
                  <span class="text-danger oe_default_price oe_optional"
                    t-field="product.lst_price"
                    t-options='{
                      "widget": "monetary",
                      "from_currency": product.currency_id,
                      "display_currency": website.currency_id
                   }'/>
                  <span class="oe_price" style="white-space: nowrap;"
                    t-field="product.website_price"
                    t-options='{
                       "widget": "monetary",
                       "display_currency": website.currency_id
                   }'/>
                  <p class="css_not_available_msg bg-danger" style="padding: 5px;">Product not available</p>

                  <div class='mt8'>
                    <input type="hidden" class="js_optional_same_quantity" t-attf-name="optional-add-#{product_index}" value="0"/>
                    <a href="#" class="js_add btn btn-sm btn-info"><strong>Add<span class='hidden-xs'> to Cart</span></strong></a>
                    <span class="js_remove hidden">
                      <span class="js_item">1 </span><span class="js_items hidden">5 </span> <span t-field="product.uom_id.sudo().name"/><br/>
                      <a href="#" class="js_remove btn btn-xs btn-info"><small>Remove <span class='hidden-xs'> from Cart</span></small></a>
                    </span>
                  </div>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <a class="btn btn-default a-submit js_goto_shop"><i class="fa fa-chevron-left"></i> <span class="hidden-xs">Continue Shopping</span><span class="visible-xs-inline">Continue</span></a>
          <a class="btn btn-primary pull-right a-submit"><i class="fa fa-shopping-cart fa-fw"></i> <span class="hidden-xs">Proceed to Checkout</span><span class="visible-xs-inline">Checkout</span></a>
        </div>
        </t>
      </div>
    </div>

  </div>
</template>
    </data>
</odoo>