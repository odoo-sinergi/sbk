<odoo>
  <data>
    <record id="view_invoice_report_form" model="ir.ui.view">
      <field name="name">invoice.report.form.view</field>
      <field name="model">invoice.report.wiz</field>
      <field name="arch" type="xml">
        <form string="Invoice Report" create="false" edit="false" save="false" discard="false">
          <header>
            <button name="run_process" string="Process" type="object" class="btn-primary" />
            <button name="print_report" string="Print" type="object" class="btn-primary" />
            <!-- <button name="export_to_excel" string="Export to Excel" type="object" class="btn-primary" /> -->
          </header>
          <group>
            <group>
                <field name="date_from"/>
            </group>
            <group>
              <field name="date_to"/>
              <!-- <field name="customer" domain="[('customer','=',True), ('parent_id', '=', False)]"/> -->
            </group>
          </group>
          <notebook>
            <page string="Invoice Report Lines">
              <field name="invoice_lines" readonly="1">
                <tree>
                  <field name="customer_name" />
                  <field name="invoice_number" />
                  <field name="date" />
                  <field name="freight" sum="Total Freight"/>
                  <field name="amount_tax" sum="Total Tax" />
                  <field name="amount_total" sum="Total With Tax" />
                  <field name="amount_untaxed" sum="Total Without Tax" />
                </tree>
              </field>
            </page>
          </notebook>
        </form>
      </field>
    </record>
    <record id="invoice_report_paperformat_portrait" model="report.paperformat">
        <field name="name">Invoice Report Paper Format Landscape</field>
        <field name="default" eval="True" />
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">1</field>
        <field name="margin_bottom">5</field>
        <field name="margin_left">7</field>
        <field name="margin_right">7</field>
        <field name="header_line" eval="False" />
        <field name="header_spacing">1</field>
        <field name="dpi">90</field>
    </record>

    <report
      string="Invoice Report"
      id="action_invoice_report"
      model="invoice.report.wiz"
      report_type="qweb-pdf"
      name="sbk_invoice_report.invoice_report"
      file="sbk_invoice_report.invoice_report"
      print_report_name="'Invoice Report'"
      paperformat="invoice_report_paperformat_portrait"
    />

      <!-- <report
          id="sales_report_excel"
          model="sales.report.wiz"
          string="Export To Excel"
          report_type="xlsx"
          name="teeni_crm.sr_excel"
          file="sr_excel"
          /> -->

      <template id="invoice_report">
          <t t-call="web.html_container">
              <t t-foreach="docs" t-as="o">
                  <t t-call="web.basic_layout">
                      <table width="100%">
                          <tr>
                              <td style="text-align:center;">
                                  <h3>Invoice Report</h3>
                                  <br/>
                                  <br/>
                              </td>
                          </tr>
                      </table>
                      <t t-set="record_collection" t-value="o.run_process()" />
                      <table width="100%">
                          <tr style="font-weight:bold;color:light-blue;">
                              <!-- <th style="border:1px solid;text-align:center;"><strong>NO</strong></th> -->
                              <th style="border:1px solid;text-align:center;"><strong>Customer Name</strong></th>
                              <th style="border:1px solid;text-align:center;"><strong>Invoice Number</strong></th>
                              <th style="border:1px solid;text-align:center;"><strong>Invoice Date</strong></th>
                              <th style="border:1px solid;text-align:center;"><strong>Freight</strong></th>
                              <th style="border:1px solid;text-align:center;"><strong>Tax </strong></th>
                              <th style="border:1px solid;text-align:center;"><strong>Invoice Amount include Tax</strong></th>
                              <th style="border:1px solid;text-align:center;"><strong>Invoice Amount Without Tax</strong></th>
                          </tr>
                          <t t-set="i" t-value="0" />
                          <t t-set="tot_freight" t-value="0" />
                          <t t-set="tot_tax" t-value="0" />
                          <t t-set="tot_amt" t-value="0" />
                          <t t-set="tot_un_tax" t-value="0" />
                          <tr t-foreach="record_collection" t-as="line">
                              <t t-set="i" t-value="i+1" />
                              <t t-set="tot_freight" t-value="tot_freight+line.freight" />
                              <t t-set="tot_tax" t-value="tot_tax+line.amount_tax" />
                              <t t-set="tot_amt" t-value="tot_amt+line.amount_total" />
                              <t t-set="tot_un_tax" t-value="tot_un_tax+line.amount_untaxed" />
                              <!-- <td style="border:1px solid;text-align:center;"><span t-esc="i" /></td> -->
                              <td style="border:1px solid;padding-left:1px;"><span t-field="line.customer_name" /></td>
                              <td style="border:1px solid;text-align:center;"><span t-field="line.invoice_number" /></td>
                              <td style="border:1px solid;text-align:center;"><span t-field="line.date" /></td>
                              <td style="border:1px solid;text-align:center;"><span t-field="line.freight" /></td>
                              <td style="border:1px solid;text-align:center;"><span t-field="line.amount_tax"/></td>
                              <td style="border:1px solid;text-align:center;"><span t-field="line.amount_total"/></td>
                              <td style="border:1px solid;text-align:center;"><span t-field="line.amount_untaxed"/></td>
                          </tr>
                          <tr style="font-weight:bold;color:light-blue;">
                              <td style="border:1px solid;padding-left:1px;"></td>
                              <td style="border:1px solid;text-align:center;"></td>
                              <td style="border:1px solid;text-align:center;"></td>
                              <td style="border:1px solid;text-align:center;"><span t-esc="tot_freight"/></td>
                              <td style="border:1px solid;text-align:center;"><span t-esc="tot_tax"/></td>
                              <td style="border:1px solid;text-align:center;"><span t-esc="tot_amt"/></td>
                              <td style="border:1px solid;text-align:center;"><span t-esc="tot_un_tax"/></td>
                          </tr>
                      </table>
                  </t>
              </t>
          </t>
        </template>
        <record id="action_report_invoice" model="ir.actions.act_window">
            <field name="name">Invoice Report</field>
            <field name="res_model">invoice.report.wiz</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
            <field name="view_id" ref="view_invoice_report_form" />
        </record>
        <menuitem id="menu_item_invoice_report" name="Invoice Report" parent="account.account_reports_management_menu"  action="action_report_invoice"/>
    </data>
</odoo>
